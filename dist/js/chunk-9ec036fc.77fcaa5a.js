(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ec036fc"],{2270:function(e,a,n){"use strict";n.r(a);var i=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"d-flex flex-column flex-grow-1"},[n("div",{staticClass:"d-flex align-center pb-3"},[e._m(0),n("v-spacer"),n("BackPage",{attrs:{to:"services"}})],1),n("v-card",[n("v-card-text",[n("v-text-field",{attrs:{label:"Ingrese nombre de campa√±a","prepend-icon":"mdi-tag-text-outline",outlined:""},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),n("v-file-input",{attrs:{label:"Cargue su base de contactos",loading:e.isFileLoading,outlined:"","error-messages":e.errorMessageFile},on:{change:e.onChangeExcel},model:{value:e.file,callback:function(a){e.file=a},expression:"file"}}),n("Audio-File-Component",{on:{onChangeFile:e.onChangeFile}}),n("Options-Component",{on:{onChange:e.onChangeOptions}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.submit}},[e._v(" Enviar mensaje ")])],1)],1)],1)},t=[function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",[n("div",{staticClass:"display-1"},[e._v("Enviar IVR a una base de contactos Excel")])])}],s=(n("ac1f"),n("1276"),n("b0c0"),n("4cf2")),o=n("88f5"),l=n("e7f9"),r=n("b570"),c={components:{OptionsComponent:s["a"],AudioFileComponent:l["a"],BackPage:r["a"]},data:function(){return{name:"",file:null,message:"",options:null,isFileLoading:!1,errorMessageFile:null,fileId:null,itemsExample:null}},methods:{onChangeOptions:function(e){this.options=e},errorFile:function(e){this.isFileLoading=!1,this.errorMessageFile=e},onChangeExcel:function(e){var a=this;if(e)if(this.isFileLoading=!0,"xlsx"===e.name.split(".").pop()||"xls"===e.name.split(".").pop()){var n=new FormData;n.append("file",e),o["a"].post("/ivr/upload/ExcelCampaign",n).then((function(e){e.data.success?(a.fileId=e.data.data.id,a.itemsExample=e.data.data.example,a.rows=e.data.data.rows,a.destinatarios=a.fileUploaded,a.errorFile(null)):a.errorFile(e.data.message),a.isFileLoading=!1}))}else this.errorFile("No es un archivo Excel")},onChangeFile:function(e){this.url_audio=e.url_audio,this.file_id=e.file_id},submit:function(){var e=this,a={service_id:2,campaign_type_id:3,name:this.name,destinations:this.fileId,message:this.message,url_id:null,options:this.options};o["a"].post("/campaign",a).then((function(a){a.data.success&&e.$store.dispatch("app/showToast",a.data.message)}))}}},d=c,p=n("2877"),u=n("6544"),m=n.n(u),f=n("8336"),g=n("b0af"),h=n("99d9"),v=n("23a7"),x=n("2fa4"),C=n("8654"),F=Object(p["a"])(d,i,t,!1,null,null,null);a["default"]=F.exports;m()(F,{VBtn:f["a"],VCard:g["a"],VCardActions:h["a"],VCardText:h["c"],VFileInput:v["a"],VSpacer:x["a"],VTextField:C["a"]})},8547:function(e,a,n){"use strict";var i=n("2b0e"),t=n("80d2");a["a"]=i["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:t["j"]}}})}}]);