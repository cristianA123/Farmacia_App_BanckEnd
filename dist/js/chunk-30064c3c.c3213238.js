(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30064c3c"],{"17b3":function(t,e,a){},"891e":function(t,e,a){"use strict";var n=a("2909"),i=a("5530"),s=(a("a9e3"),a("99af"),a("d3b7"),a("25f0"),a("d81d"),a("17b3"),a("9d26")),o=a("dc22"),r=a("a9ad"),c=a("de2c"),l=a("7560"),u=a("58df");e["a"]=Object(u["a"])(r["a"],Object(c["a"])({onVisible:["init"]}),l["a"]).extend({name:"v-pagination",directives:{Resize:o["b"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1===0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return Object(i["a"])({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10);if(0===t)return[];var e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);var a=e%2===0?1:0,i=Math.floor(e/2),s=this.length-i+1+a;if(this.value>i&&this.value<s){var o=1,r=this.length,c=this.value-i+2,l=this.value+i-2-a,u=c-1===o+1?2:"...",d=l+1===r-1?l+1:"...";return[1,u].concat(Object(n["a"])(this.range(c,l)),[d,this.length])}if(this.value===i){var v=this.value+i-1-a;return[].concat(Object(n["a"])(this.range(1,v)),["...",this.length])}if(this.value===s){var h=this.value-i+1;return[1,"..."].concat(Object(n["a"])(this.range(h,this.length)))}return[].concat(Object(n["a"])(this.range(1,i)),["..."],Object(n["a"])(this.range(s,this.length)))}},watch:{value:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){var a=[];t=t>0?t:1;for(var n=t;n<=e;n++)a.push(n);return a},genIcon:function(t,e,a,n,i){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":a},attrs:{disabled:a,type:"button","aria-label":i},on:a?{}:{click:n}},[t(s["a"],[e])])])},genItem:function(t,e){var a=this,n=e===this.value&&(this.color||"primary"),i=e===this.value,s=i?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(n,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":i,"aria-label":this.$vuetify.lang.t(s,e)},on:{click:function(){return a.$emit("input",e)}}}),[e.toString()])},genItems:function(t){var e=this;return this.items.map((function(a,n){return t("li",{key:n},[isNaN(Number(a))?t("span",{class:"v-pagination__more"},[a.toString()]):e.genItem(t,a)])}))},genList:function(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},fee7:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column flex-grow-1"},[a("div",{staticClass:"d-flex align-center py-3"},[t._m(0),a("v-spacer"),a("v-menu",{attrs:{"offset-y":"",left:"",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{color:"primary"}},n),[a("v-icon",{attrs:{left:"",dark:""}},[t._v(" mdi-plus ")]),t._v(" Nuevos contactos ")],1)]}}])},[a("v-list",{attrs:{dense:"",nav:""}},[a("v-list-item",{on:{click:function(e){return t.openNewContact()}}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Individual")])],1)],1),a("v-list-item",{on:{click:function(e){return t.openNewContactsFromExcel()}}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Desde Excel")])],1)],1)],1)],1),a("v-btn",{staticClass:"ml-2",on:{click:function(e){t.config=!0}}},[a("v-icon",[t._v("mdi-cog-outline")])],1)],1),a("v-navigation-drawer",{attrs:{fixed:"",right:"","hide-overlay":"",temporary:"",width:"310"},model:{value:t.config,callback:function(e){t.config=e},expression:"config"}},[a("div",{staticClass:"d-flex align-center pa-2"},[a("div",{staticClass:"title"},[t._v("Configuraciones")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.config=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-divider"),a("div",{staticClass:"pa-2"},[a("div",{staticClass:"font-weight-bold my-1"},[t._v("Duplicados")]),a("span",[t._v("Permite agregar contactos duplicados")]),a("br"),a("br"),a("v-switch",{attrs:{inset:"",label:"Aceptar contactos duplicados"},model:{value:t.duplicateAcept,callback:function(e){t.duplicateAcept=e},expression:"duplicateAcept"}})],1),a("div",{staticClass:"pa-2"},[a("div",{staticClass:"font-weight-bold my-1"},[t._v("Depurar base")]),a("span",[t._v("Elimina todos los números Incorrecto de esta Base de contactos")]),a("br"),a("br"),a("v-col",{staticClass:"pa-0 ma-0"},[a("v-btn",{staticClass:"col-lg-12",attrs:{mandatory:""}},[t._v(" Limpiar ")])],1)],1)],1),a("Move-Agenda",{ref:"moveAgenda",on:{onMoveAgenda:t.onMoveAgenda}}),a("v-card",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,"show-select":"",loading:t.isLoading,items:t.contacts,"items-per-page":10,search:t.searchTable,"hide-default-footer":""},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",[a("v-col",{staticClass:"py-0"},[a("div",{staticClass:"pa-2"},[a("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[a("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.selectedUsers.length>0,expression:"selectedUsers.length > 0"}]},n),[t._v(" Acciones "),a("v-icon",{attrs:{right:""}},[t._v("mdi-menu-down")])],1)],1)]}}])},[a("v-list",{attrs:{dense:""}},[a("v-list-item",{on:{click:t.deleteItems}},[a("v-list-item-title",[t._v("Eliminar seleccionados")])],1),a("v-list-item",{on:{click:t.moveItems}},[a("v-list-item-title",[t._v("Mover a otra agenda")])],1)],1)],1)],1)]),a("v-col",{staticClass:"pb-0 pr-6"},[a("v-text-field",{attrs:{label:"Buscar contacto",outlined:""},model:{value:t.searchTable,callback:function(e){t.searchTable=e},expression:"searchTable"}})],1)],1)]},proxy:!0},{key:"item.id",fn:function(e){var n=e.item;return[a("div",{staticClass:"font-weight-bold"},[t._v("# "),a("copy-label",{attrs:{text:n.id+""}})],1)]}},{key:"item.name1",fn:function(e){var n=e.item;return[a("v-avatar",{attrs:{size:"40"}},[a("v-icon",[t._v(" mdi-account-circle ")])],1),t._v(" "+t._s(n.name1)+" ")]}},{key:"item.is_valid",fn:function(e){var n=e.item;return[1===n.is_valid?a("v-chip",{attrs:{color:"green","text-color":"white",small:""}},[t._v(" Correcto ")]):a("v-chip",{attrs:{color:"red","text-color":"white",small:""}},[t._v(" Incorrecto ")])]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.attrs,i=e.on;return[a("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",n,!1),i),[t._v(" Acciones ")])]}}],null,!0)},[a("v-list",[a("v-list-item",{attrs:{link:""},on:{click:function(e){return t.detalle(n)}}},[t._v(" Ver detalle ")]),a("v-list-item",{attrs:{link:""},on:{click:function(e){return t.openNewContact(n)}}},[t._v(" Modificar ")]),[a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{persistent:"","max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-list-item",t._g(t._b({attrs:{link:""}},"v-list-item",i,!1),n),[t._v(" Eliminar ")])]}}],null,!0),model:{value:t.dialogConfirm,callback:function(e){t.dialogConfirm=e},expression:"dialogConfirm"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v(" Seguro de eliminar este contacto? ")]),a("v-card-text",[t._v("Una vez eliminado este contacto, no podrá recuperarla. Las campañas que se esten procesando y que hagan uso de esta agenda se enviarán con normalidad.")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(e){t.dialogConfirm=!1}}},[t._v(" Cancelar ")]),a("v-btn",{attrs:{color:"success",text:""},on:{click:function(e){return t.deleteItem(n)}}},[t._v(" Confirmo ")])],1)],1)],1)],1)]],2)],1)]}}],null,!0),model:{value:t.selectedUsers,callback:function(e){t.selectedUsers=e},expression:"selectedUsers"}}),a("v-card-actions",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"10"}},[a("v-container",{staticClass:"max-width"},[a("v-pagination",{attrs:{length:t.pagination.total},on:{input:t.onPageChange},model:{value:t.pagination.current,callback:function(e){t.$set(t.pagination,"current",e)},expression:"pagination.current"}})],1)],1)],1)],1)],1),a("new-contact",{ref:"newContact",attrs:{"agenda-id":t.$route.params.agendaId},on:{onCreated:t.onCreated}}),a("new-contacts-from-excel",{ref:"newContactsFromExcel"})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"display-1"},[t._v("Contactos")])])}],s=(a("159b"),a("43f0")),o=a("9afe"),r=a("88f5"),c=a("5f1f"),l={components:{MoveAgenda:c["a"],newContact:s["a"],newContactsFromExcel:o["a"]},data:function(){return{pagination:{current:1,total:10},searchText:"",duplicateAcept:!1,searchTable:"",isLoading:!1,config:!1,dialogConfirm:!1,agenda:"",lengthPagination:0,itemSelected:"",drawer:null,contacts:[],contact:{number:null,name1:"",name2:"",lastname1:"",lastname2:"",email:"",var1:"",var2:"",var3:"",var4:""},selectedUsers:[],headers:[{text:"Número",value:"number"},{text:"Nombre1",value:"name1"},{text:"Estado",value:"is_valid"},{text:"Ult. Modif.",value:"updated"},{text:"Acciones",value:"actions"}]}},computed:{countContacs:function(){return this.contacts.length},computedSelectedUsers:function(){return[1,2]}},watch:{selectedUsers:function(t){}},mounted:function(){this.agenda=this.$route.params.agenda,this.getContacts()},methods:{onPageChange:function(){this.getContacts()},getContacts:function(){var t=this;this.isLoading=!0,this.selectedUsers=[];var e={searchtext:this.searchText,page:""===this.searchText?this.pagination.current:1};r["a"].get("/contactByAgenda/"+this.$route.params.agendaId,{params:e}).then((function(e){e.data.success?(t.contacts=e.data.data.data,t.pagination.current=e.data.data.current_page,t.pagination.total=e.data.data.last_page):t.$store.dispatch("app/showToast",e.data.message),t.isLoading=!1})).catch((function(t){console.log(t)}))},selectContact:function(t){this.contact=t},openNewContact:function(t){this.$refs.newContact.open(t)},openNewContactsFromExcel:function(){this.$refs.newContactsFromExcel.open()},confirmDelete:function(t){this.deleteItem(t)},deleteItem:function(t){var e=this;r["a"].delete("/contact/"+t.id).then((function(t){t.data.success?(e.$store.dispatch("app/showToast","Contacto eliminado exitosamente"),e.dialogConfirm=!1,e.getContacts()):e.$store.dispatch("app/showToast",t.data.message)}))},deleteItems:function(){var t=this,e=[];this.selectedUsers.forEach((function(t){e.push(t.id)}));var a={contacts_id:e};r["a"].delete("/agenda/"+this.$route.params.agendaId+"/contacts",{data:a}).then((function(e){e.data.success&&(t.$store.dispatch("app/showToast",e.data.message),t.getContacts())}))},onMoveAgenda:function(t){var e=this,a=[];this.selectedUsers.forEach((function(t){a.push(t.id)}));var n={agenda_id:t,contacts_id:a};r["a"].post("/move/contact",n).then((function(t){t.data.success&&(e.$store.dispatch("app/showToast",t.data.message),e.getContacts())}))},moveItems:function(){this.$refs.moveAgenda.open()},onCreated:function(){this.getContacts()}}},u=l,d=a("2877"),v=a("6544"),h=a.n(v),f=a("8212"),p=a("8336"),g=a("b0af"),m=a("99d9"),b=a("cc20"),C=a("62ad"),_=a("a523"),x=a("8fea"),y=a("169a"),w=a("ce7e"),k=a("132d"),$=a("8860"),I=a("da13"),A=a("5d23"),V=a("e449"),L=a("f774"),S=a("891e"),T=a("0fd9"),E=a("2fa4"),N=a("b73d"),M=a("8654"),U=Object(d["a"])(u,n,i,!1,null,null,null);e["default"]=U.exports;h()(U,{VAvatar:f["a"],VBtn:p["a"],VCard:g["a"],VCardActions:m["a"],VCardText:m["c"],VCardTitle:m["d"],VChip:b["a"],VCol:C["a"],VContainer:_["a"],VDataTable:x["a"],VDialog:y["a"],VDivider:w["a"],VIcon:k["a"],VList:$["a"],VListItem:I["a"],VListItemContent:A["a"],VListItemTitle:A["c"],VMenu:V["a"],VNavigationDrawer:L["a"],VPagination:S["a"],VRow:T["a"],VSpacer:E["a"],VSwitch:N["a"],VTextField:M["a"]})}}]);