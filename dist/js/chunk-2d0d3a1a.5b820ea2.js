(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3a1a"],{"5e1e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column flex-grow-1"},[a("div",{staticClass:"d-flex align-center py-3"},[e._m(0),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),i),[e._v(" Nueva ruta ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{lg:"6"}},[a("v-text-field",{attrs:{"error-messages":e.isValidName,label:"Nombre",outlined:""},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{lg:"6"}},[a("v-text-field",{attrs:{"error-messages":e.isValidPrice,label:"Precio",outlined:""},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{lg:"12"}},[a("v-text-field",{attrs:{label:"Descripción",outlined:""},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{lg:"6"}},[a("v-text-field",{attrs:{"error-messages":e.isValidApi_Key,label:"Apikey",outlined:""},model:{value:e.editedItem.api_Key,callback:function(t){e.$set(e.editedItem,"api_Key",t)},expression:"editedItem.api_Key"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{lg:"6"}},[a("v-select",{attrs:{"error-messages":e.isValidProvider_id,label:"Proveedor",solo:"",dense:"","hide-details":"","hide-selected":"",items:e.intervals,"item-text":"name","item-value":"id",outlined:""},model:{value:e.editedItem.provider_id,callback:function(t){e.$set(e.editedItem,"provider_id",t)},expression:"editedItem.provider_id"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{lg:"6"}},[a("v-text-field",{attrs:{"error-messages":e.isValidSender,label:"Sender",outlined:""},model:{value:e.editedItem.sender,callback:function(t){e.$set(e.editedItem,"sender",t)},expression:"editedItem.sender"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{lg:"6"}},[a("v-text-field",{attrs:{"error-messages":e.isValidAuthorization,label:"Authorization",outlined:""},model:{value:e.editedItem.authorization,callback:function(t){e.$set(e.editedItem,"authorization",t)},expression:"editedItem.authorization"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{lg:"6"}},[a("v-text-field",{attrs:{label:"Var1",outlined:""},model:{value:e.editedItem.var1,callback:function(t){e.$set(e.editedItem,"var1",t)},expression:"editedItem.var1"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{lg:"6"}},[a("v-text-field",{attrs:{label:"Var2",outlined:""},model:{value:e.editedItem.var2,callback:function(t){e.$set(e.editedItem,"var2",t)},expression:"editedItem.var2"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1)],1),a("v-card",[a("v-data-table",{staticClass:"flex-grow-1",attrs:{headers:e.headers,items:e.items,loading:e.isLoading},scopedSlots:e._u([{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")])]}}])})],1)],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"display-1"},[e._v("Canales")])])}],r=(a("b0c0"),a("88f5")),d={data:function(){return{backendErrors:{name:"",price:"",api_Key:"",authorization:"",provider_id:"",sender:""},selectedInterval:0,intervals:["Last 7 days","Last 28 days","Last month","Last year"],isLoading:!1,dialog:!1,dialogDelete:!1,itemSelected:0,headers:[{text:"Canal",value:"id"},{text:"Nombre",value:"name"},{text:"Proveedor",value:"provider"},{text:"Descripción",value:"description"},{text:"Precio",value:"price"},{text:"APIKEY",value:"api_Key"},{text:"SENDER",value:"sender"},{text:"AUTHORIZATION",value:"authorization"},{text:"VAR1",value:"var1"},{text:"VAR2",value:"var2"},{text:"Modificar",value:"actions"}],items:[],editedIndex:-1,editedItem:{name:"",description:"",price:0,api_Key:"",sender:"",authorization:"",var1:"",var2:"",provider_id:0},defaultItem:{name:"",description:"",price:0,api_Key:"",sender:"",authorization:"",var1:"",var2:"",provider_id:0}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo ruta de proveedor":"Editar ruta de proveedor"},isValidName:function(){return void 0===this.backendErrors.name?"":this.backendErrors.name[0]},isValidPrice:function(){return void 0===this.backendErrors.price?"":this.backendErrors.price[0]},isValidApi_Key:function(){return void 0===this.backendErrors.api_Key?"":this.backendErrors.api_Key[0]},isValidAuthorization:function(){return void 0===this.backendErrors.authorization?"":this.backendErrors.authorization[0]},isValidSender:function(){return void 0===this.backendErrors.sender?"":this.backendErrors.sender[0]},isValidProvider_id:function(){return void 0===this.backendErrors.provider_id?"":this.backendErrors.provider_id[0]}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;this.items=[],r["a"].get("/channel").then((function(t){t.data.success?e.items=t.data.data:e.$store.dispatch("app/showToast",t.data.message),e.isLoading=!1})),this.intervals=[],r["a"].get("/provider").then((function(t){t.data.success?e.intervals=t.data.data:e.$store.dispatch("app/showToast",t.data.message),e.isLoading=!1}))},editItem:function(e){this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0,this.itemSelected=e.id},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;this.isLoading=!0;var t=this.editedItem;this.editedIndex>-1?r["a"].put("/channel/"+this.itemSelected,t).then((function(t){t.data.success&&(e.items=t.data.data,e.initialize()),e.close(),e.isLoading=!1})).catch((function(t){e.backendErrors=t.response.data.errors})):r["a"].post("/channel",t,{headers:{Authorization:"Bearer "+window.localStorage.token}}).then((function(t){t.data.success&&(e.items=t.data.data,e.initialize()),e.isLoading=!1,e.close()})).catch((function(t){e.backendErrors=t.response.data.errors,console.log(t)}))}}},n=d,o=a("2877"),l=a("6544"),c=a.n(l),u=a("8336"),v=a("b0af"),m=a("99d9"),p=a("62ad"),h=a("a523"),f=a("8fea"),b=a("169a"),x=a("132d"),g=a("0fd9"),I=a("b974"),k=a("2fa4"),y=a("8654"),_=Object(o["a"])(n,i,s,!1,null,null,null);t["default"]=_.exports;c()(_,{VBtn:u["a"],VCard:v["a"],VCardActions:m["a"],VCardText:m["c"],VCardTitle:m["d"],VCol:p["a"],VContainer:h["a"],VDataTable:f["a"],VDialog:b["a"],VIcon:x["a"],VRow:g["a"],VSelect:I["a"],VSpacer:k["a"],VTextField:y["a"]})}}]);