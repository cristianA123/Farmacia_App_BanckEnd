(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ca1d8520"],{"2bfd":function(t,e,n){},"4bd4":function(t,e,n){"use strict";var i=n("5530"),a=(n("caad"),n("2532"),n("07ac"),n("4de4"),n("159b"),n("7db0"),n("58df")),s=n("7e2b"),r=n("3206");e["a"]=Object(a["a"])(s["a"],Object(r["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,n=function(t){return t.$watch("hasError",(function(n){e.$set(e.errorBag,t._uid,n)}),{immediate:!0})},i={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",(function(a){a&&(e.errorBag.hasOwnProperty(t._uid)||(i.valid=n(t)))})):i.valid=n(t),i},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var n=this.watchers.find((function(t){return t._uid===e._uid}));n&&(n.valid(),n.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(i["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},fb4a:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column flex-grow-1"},[n("div",{staticClass:"d-flex align-center py-3"},[t._m(0),n("v-spacer")],1),n("TableReportComponent",{attrs:{headers:t.headers,items:t.reports,search_text:t.search_text,isLoading:t.isLoading},on:{onfilter:t.on_filter,onreadyusers:t.onreadyusers,onDetail:t.onDetail}})],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"display-1"},[t._v("Reporte de servicios")])])}],s=(n("7db0"),n("a434"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("FiltersReportComponent",{on:{onfilter:t.onfilter,onreadyfilters:t.onreadyfilters,onreadyusers:t.onreadyusers}}),n("v-card",[n("v-card-title",[t._v(" Resultados: "),n("v-spacer"),n("v-text-field",{staticClass:"flex-grow-1 mr-md-2",attrs:{"append-icon":"mdi-magnify",dense:"",clearable:"",placeholder:"Ej.: Filtrar por name, email, empresa, etc"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchUser(t.searchQuery)}},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1),n("v-data-table",{staticClass:"flex-grow-1",attrs:{headers:t.headers,items:t.items,loading:t.isLoading,search:t.searchQuery},scopedSlots:t._u([{key:"item.name",fn:function(e){var i=e.item;return[t._v(" "+t._s(i.name)+" "),n("br"),t._v(" "+t._s(i.service)+" ")]}},{key:"item.status",fn:function(e){var i=e.item;return[0===i.status?n("v-chip",{staticClass:"ma-2",attrs:{color:"red","text-color":"white",small:""}},[t._v(" Cancelado ")]):t._e(),1===i.status?n("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white",small:""}},[t._v(" Finalizado ")]):t._e(),2===i.status?n("v-chip",{staticClass:"ma-2",attrs:{"text-color":"white",small:""}},[t._v(" Pendiente ")]):t._e(),3===i.status?n("v-chip",{staticClass:"ma-2",attrs:{"text-color":"white",small:""}},[t._v(" Procesando ")]):t._e(),3===i.status?n("v-chip",{staticClass:"ma-2",attrs:{color:"orange","text-color":"white",small:""}},[t._v(" Agendado ")]):t._e()]}},{key:"item.sms_credit_send",fn:function(e){var n=e.item;return[t._v(" "+t._s((new Intl.NumberFormat).format(n.sms_credit_send))+" ")]}},{key:"item.user_name",fn:function(t){var e=t.item;return[n("userAvatar",{attrs:{user:{name:e.user,company:e.company,email:e.email}}})]}},{key:"item.actions",fn:function(e){var i=e.item;return[n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.attrs,a=e.on;return[n("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",i,!1),a),[t._v(" Acciones ")])]}}],null,!0)},[n("v-list",[n("v-list-item",{attrs:{link:""},on:{click:function(e){return t.detalle(i)}}},[t._v(" Ver detalle ")])],1)],1)]}}])})],1)],1)}),r=[],l=n("bc25"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.submit()}},model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[n("v-row",{staticClass:"pb-1"},[n("v-col",{staticClass:"col-12 col-lg-3 py-0 pr-0 d-flex justify-space-between"},[n("ComboboxComponent",{ref:"comboUsers",attrs:{loading:t.isLoadingUsers,icon:"mdi-account",label:"Usuarios"},on:{onChange:t.ChangeSelectedUsers}})],1),n("v-col",{staticClass:"col-12 col-lg-3 py-0 pr-0 d-flex justify-space-between"},[n("ComboboxComponent",{ref:"comboServices",attrs:{loading:t.isLoadingServices,icon:"mdi-bullhorn",label:"Servicios"},on:{onChange:t.ChangeSelectedServices}})],1),n("v-col",{staticClass:"col-6 col-lg-2 py-0 pr-0 pd-flex justify-space-between"},[n("v-dialog",{ref:"dialogStart",attrs:{"return-value":t.dateStart,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.dateStart=e},"update:return-value":function(e){t.dateStart=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-text-field",t._g(t._b({staticClass:"flex-grow-1 mr-md-2",attrs:{"append-icon":"mdi-calendar-start",label:"Fecha inicio",outlined:"",readonly:"",dense:"",clearable:"",placeholder:"Fecha inicio",rules:[function(t){return!!t||"Fecha de inicio es obligatorio"}]},model:{value:t.dateStart,callback:function(e){t.dateStart=e},expression:"dateStart"}},"v-text-field",a,!1),i))]}}]),model:{value:t.modalDateRangeStart,callback:function(e){t.modalDateRangeStart=e},expression:"modalDateRangeStart"}},[n("v-date-picker",{attrs:{scrollable:"",max:t.maxDateStart},model:{value:t.dateStart,callback:function(e){t.dateStart=e},expression:"dateStart"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.modalDateRangeStart=!1}}},[t._v("Cancelar")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.saveDateStart()}}},[t._v("OK")])],1)],1)],1),n("v-col",{staticClass:"col-6 col-lg-2 py-0 pr-0 d-flex justify-space-between"},[n("v-dialog",{ref:"dialogEnd",attrs:{"return-value":t.dateEnd,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.dateEnd=e},"update:return-value":function(e){t.dateEnd=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-text-field",t._g(t._b({staticClass:"flex-grow-1 mr-md-2",attrs:{"append-icon":"mdi-calendar-end",label:"Fecha fin",readonly:"",outlined:"",dense:"",clearable:"",placeholder:"Fecha fin",rules:[function(t){return!!t||"Fecha fin es obligatorio"}]},model:{value:t.dateEnd,callback:function(e){t.dateEnd=e},expression:"dateEnd"}},"v-text-field",a,!1),i))]}}]),model:{value:t.modalDateRangeEnd,callback:function(e){t.modalDateRangeEnd=e},expression:"modalDateRangeEnd"}},[n("v-date-picker",{attrs:{scrollable:"",min:t.minDateEnd},model:{value:t.dateEnd,callback:function(e){t.dateEnd=e},expression:"dateEnd"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.modalDateRangeEnd=!1}}},[t._v("Cancelar")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.saveDateEnd()}}},[t._v("OK")])],1)],1)],1),n("v-col",{staticClass:"col-12 col-lg-2 py-0 d-flex justify-space-between"},[n("v-btn",{staticClass:"flex-grow-1",attrs:{color:"success",type:"submit"}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-reload ")]),t._v(" Buscar ")],1)],1)],1)],1)},c=[],u=(n("159b"),n("b0c0"),n("c1df")),d=n.n(u),h=n("88f5"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-combobox",{staticClass:"flex-grow-1 mr-md-2",attrs:{items:t.items,"item-text":"name","item-value":"id","append-icon":t.icon,label:t.label,outlined:"",dense:"",clearable:"",multiple:"",loading:t.loading,placeholder:"Seleccione",rules:[function(t){return 0!==t.length||"Es obligatorio"}]},on:{change:function(e){return t.ifSelectAllItems()}},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.item,a=e.index;return[0===a?n("div",[t._v(" "+t._s(i.name)+" ")]):t._e(),1===a?n("span",{staticClass:"grey--text text-caption"},[t._v(" (+"+t._s(t.selectedItems.length-1)+" m√°s) ")]):t._e()]}}]),model:{value:t.selectedItems,callback:function(e){t.selectedItems=e},expression:"selectedItems"}})},m=[],p={props:{icon:{type:String,default:""},loading:{type:Boolean,default:!1},label:{type:String,default:""}},data:function(){return{items:[],selectedItems:[{id:0,name:"Todos"}]}},computed:{computedSelectedItems:function(){var t=[];return this.selectedItems.forEach((function(e){t.push(e.id)})),t}},mounted:function(){this.ifSelectAllItems()},methods:{list:function(t){this.items=t,this.selectedItems=this.items,this.ifSelectAllItems()},ifSelectAllItems:function(){this.selectedItems.find((function(t){return 0===t.id}))&&(this.selectedItems=this.items),this.$emit("onChange",this.computedSelectedItems)}}},v=p,g=n("2877"),S=n("6544"),b=n.n(S),I=n("53ca"),x=n("5530"),y=(n("d3b7"),n("25f0"),n("8a79"),n("fb6a"),n("caad"),n("2532"),n("c740"),n("2bfd"),n("b974")),_=(n("d81d"),n("4de4"),n("498a"),n("8654")),C=n("d9f7"),D=n("80d2"),w=Object(x["a"])(Object(x["a"])({},y["b"]),{},{offsetY:!0,offsetOverflow:!0,transition:!1}),V=y["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:y["a"].options.props.menuProps.type,default:function(){return w}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return Object(x["a"])(Object(x["a"])({},y["a"].options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(D["r"])(e,t.itemText),i=null!=n?String(n):"";return t.filter(e,String(t.internalSearch),i)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=y["a"].options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),Object(x["a"])(Object(x["a"])({},w),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(e){return t.valueComparator(t.getValue(e),t.getValue(t.internalValue))}))},listData:function(){var t=y["a"].options.computed.listData.call(this);return t.props=Object(x["a"])(Object(x["a"])({},t.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.blur(),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var n=this;t!==e&&(this.setMenuIndex(-1),this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===D["y"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===D["y"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==D["y"].backspace&&t!==D["y"].delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var i=this.selectedItems.length,a=t!==i-1?t:t-1,s=this.selectedItems[a];s?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=a}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=null,y["a"].options.methods.clearableCallback.call(this)},genInput:function(){var t=_["a"].options.methods.genInput.call(this);return t.data=Object(C["a"])(t.data,{attrs:{"aria-activedescendant":Object(D["p"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(D["p"])(t.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),t},genInputSlot:function(){var t=y["a"].options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections:function(){return this.hasSlot||this.multiple?y["a"].options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[D["y"].home,D["y"].end].includes(e)||y["a"].options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){y["a"].options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){y["a"].options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){y["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){var e,n;if(-1!==this.selectedIndex){var i=this.selectedItems[this.selectedIndex],a=this.getText(i);null==(e=t.clipboardData)||e.setData("text/plain",a),null==(n=t.clipboardData)||n.setData("text/vnd.vuetify.autocomplete.item+plain",a),t.preventDefault()}}}}),E=V.extend({name:"v-combobox",props:{delimiters:{type:Array,default:function(){return[]}},returnObject:{type:Boolean,default:!0}},data:function(){return{editingIndex:-1}},computed:{computedCounterValue:function(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot:function(){return y["a"].options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed:function(){return!0},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)},searchIsDirty:function(){return null!=this.internalSearch}},methods:{onInternalSearchChanged:function(t){if(t&&this.multiple&&this.delimiters.length){var e=this.delimiters.find((function(e){return t.endsWith(e)}));null!=e&&(this.internalSearch=t.slice(0,t.length-e.length),this.updateTags())}this.updateMenuDimensions()},genInput:function(){var t=V.options.methods.genInput.call(this);return delete t.data.attrs.name,t.data.on.paste=this.onPaste,t},genChipSelection:function(t,e){var n=this,i=y["a"].options.methods.genChipSelection.call(this,t,e);return this.multiple&&(i.componentOptions.listeners=Object(x["a"])(Object(x["a"])({},i.componentOptions.listeners),{},{dblclick:function(){n.editingIndex=e,n.internalSearch=n.getText(t),n.selectedIndex=-1}})),i},onChipInput:function(t){y["a"].options.methods.onChipInput.call(this,t),this.editingIndex=-1},onEnterDown:function(t){t.preventDefault(),this.getMenuIndex()>-1||this.$nextTick(this.updateSelf)},onFilteredItemsChanged:function(t,e){this.autoSelectFirst&&V.options.methods.onFilteredItemsChanged.call(this,t,e)},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[D["y"].home,D["y"].end].includes(e)||y["a"].options.methods.onKeyDown.call(this,t),this.multiple&&e===D["y"].left&&0===this.$refs.input.selectionStart?this.updateSelf():e===D["y"].enter&&this.onEnterDown(t),this.changeSelectedIndex(e)},onTabDown:function(t){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return t.preventDefault(),t.stopPropagation(),this.updateTags();V.options.methods.onTabDown.call(this,t)},selectItem:function(t){this.editingIndex>-1?this.updateEditing():(V.options.methods.selectItem.call(this,t),this.internalSearch&&this.multiple&&this.getText(t).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())&&(this.internalSearch=null))},setSelectedItems:function(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue:function(t){y["a"].options.methods.setValue.call(this,null!=t?t:this.internalSearch)},updateEditing:function(){var t=this,e=this.internalValue.slice(),n=this.selectedItems.findIndex((function(e){return t.getText(e)===t.internalSearch}));if(n>-1){var i="object"===Object(I["a"])(e[n])?Object.assign({},e[n]):e[n];e.splice(n,1),e.push(i)}else e[this.editingIndex]=this.internalSearch;this.setValue(e),this.editingIndex=-1,this.internalSearch=null},updateCombobox:function(){if(this.searchIsDirty){this.internalSearch!==this.getText(this.internalValue)&&this.setValue();var t=Boolean(this.$scopedSlots.selection)||this.hasChips;t&&(this.internalSearch=null)}},updateSelf:function(){this.multiple?this.updateTags():this.updateCombobox()},updateTags:function(){var t=this,e=this.getMenuIndex();if(!(e<0&&!this.searchIsDirty||!this.internalSearch)){if(this.editingIndex>-1)return this.updateEditing();var n=this.selectedItems.findIndex((function(e){return t.internalSearch===t.getText(e)})),i=n>-1&&"object"===Object(I["a"])(this.selectedItems[n])?Object.assign({},this.selectedItems[n]):this.internalSearch;if(n>-1){var a=this.internalValue.slice();a.splice(n,1),this.setValue(a)}if(e>-1)return this.internalSearch=null;this.selectItem(i),this.internalSearch=null}},onPaste:function(t){var e;if(this.multiple&&!this.searchIsDirty){var n=null==(e=t.clipboardData)?void 0:e.getData("text/vnd.vuetify.autocomplete.item+plain");n&&-1===this.findExistingIndex(n)&&(t.preventDefault(),y["a"].options.methods.selectItem.call(this,n))}},clearableCallback:function(){this.editingIndex=-1,V.options.methods.clearableCallback.call(this)}}}),k=Object(g["a"])(v,f,m,!1,null,null,null),$=k.exports;b()(k,{VCombobox:E});var O={components:{ComboboxComponent:$},data:function(){return{validForm:!0,services:[{id:0,name:"Todos"},{id:1,name:"SMS"},{id:2,name:"IVR"},{id:3,name:"WHATSAPP"},{id:4,name:"MAILLING"}],selectedServices:[],isLoadingServices:!1,selectedUsers:[],isLoadingUsers:!1,maxDateStart:null,dateStart:null,minDateEnd:null,dateEnd:null,modalDateRangeStart:null,modalDateRangeEnd:null,isLoading:!1}},computed:{computedDateFormat:function(){return d()(Date.now()).format("YYYY-MM-DD")}},mounted:function(){this.getUsers(),this.getServices(),this.dateStart=this.computedDateFormat,this.dateEnd=this.computedDateFormat},methods:{getUsers:function(){var t=this;this.isLoadingUsers=!0,h["a"].get("/userforreport").then((function(e){var n=[{id:0,name:"Todos"}],i=[];e.data.data.forEach((function(t){n.push({id:t.id,name:t.name}),i.push(t.id)})),t.isLoadingUsers=!1,t.$refs.comboUsers.list(n),t.$emit("onreadyusers",i)}))},getServices:function(){this.isLoadingServices=!0;var t=[{id:0,name:"Todos"},{id:1,name:"Sms"},{id:2,name:"Ivr"}];this.isLoadingServices=!1,this.$refs.comboServices.list(t)},saveDateStart:function(){this.$refs.dialogStart.save(this.dateStart),this.minDateEnd=new Date(this.dateStart).toISOString()},saveDateEnd:function(){this.$refs.dialogEnd.save(this.dateEnd),this.maxDateStart=new Date(this.dateEnd).toISOString()},submit:function(){if(console.log("asd"),this.$refs.form.validate()){var t={users:this.selectedUsers,services:this.selectedServices,start_date:this.dateStart,final_date:this.dateEnd};this.$emit("onfilter",t)}},ChangeSelectedUsers:function(t){this.selectedUsers=t},ChangeSelectedServices:function(t){this.selectedServices=t}}},F=O,T=n("8336"),j=n("62ad"),L=n("2e4b"),B=n("169a"),A=n("4bd4"),M=n("132d"),R=n("0fd9"),U=n("2fa4"),P=Object(g["a"])(F,o,c,!1,null,null,null),z=P.exports;b()(P,{VBtn:T["a"],VCol:j["a"],VDatePicker:L["a"],VDialog:B["a"],VForm:A["a"],VIcon:M["a"],VRow:R["a"],VSpacer:U["a"],VTextField:_["a"]});var Y={components:{FiltersReportComponent:z,userAvatar:l["a"]},props:{headers:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}},isLoading:{type:Boolean,default:!1}},data:function(){return{searchQuery:""}},methods:{detalle:function(t){this.$router.push({path:"/reports/sms/detail/"+t.id})},onfilter:function(t){this.$emit("onfilter",t)},onreadyfilters:function(){this.$emit("onreadyfilters")},onreadyusers:function(t){this.$emit("onreadyusers",t)}}},K=Y,N=n("b0af"),Q=n("99d9"),J=n("cc20"),W=n("8fea"),G=n("8860"),H=n("da13"),q=n("e449"),X=Object(g["a"])(K,s,r,!1,null,null,null),Z=X.exports;b()(X,{VBtn:T["a"],VCard:N["a"],VCardTitle:Q["d"],VChip:J["a"],VDataTable:W["a"],VList:G["a"],VListItem:H["a"],VMenu:q["a"],VSpacer:U["a"],VTextField:_["a"]});var tt={components:{TableReportComponent:Z},data:function(){return{search_text:"",users:[],reports:[],headers:[{text:"Usuario",value:"user_name"},{text:"Campa√±a",value:"name"},{text:"Fecha de lanzamineto",value:"created_at"},{text:"Estado",value:"status"},{text:"Creditos",value:"total_cost"},{text:"Acciones",value:"actions"}],isLoading:!1}},mounted:function(){this.onreadyusers()},methods:{getReports:function(t){var e=this;this.isLoading=!0,h["a"].post("/userCampaignBetween",t).then((function(t){t.data.success&&(e.reports=t.data.data),e.isLoading=!1}))},on_filter:function(t){var e=t.users,n=t.services;if(void 0!==e.find((function(t){return 0===t}))){var i=e.indexOf(0);e.splice(i,1)}if(void 0!==n.find((function(t){return 0===t}))){var a=n.indexOf(0);n.splice(a,1)}var s={users:e,services:n,start_date:t.start_date,final_date:t.final_date};this.getReports(s)},onDetail:function(t){this.$router.push({path:"/reports/sms/detail/"+t.id})},onreadyusers:function(t){var e=this;this.isLoading=!0;var n={users:t,services:[1,2],start_date:d()().format("YYYY-MM-DD"),final_date:d()().format("YYYY-MM-DD")};void 0!==t&&h["a"].post("/userCampaignBetween",n).then((function(t){t.data.success&&(e.reports=t.data.data),e.isLoading=!1}))}}},et=tt,nt=Object(g["a"])(et,i,a,!1,null,null,null);e["default"]=nt.exports;b()(nt,{VSpacer:U["a"]})}}]);