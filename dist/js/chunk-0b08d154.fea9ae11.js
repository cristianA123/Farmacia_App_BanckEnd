(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b08d154"],{"0428":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column flex-grow-1"},[a("div",{staticClass:"d-flex align-center py-3"},[e._m(0),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.createUser()}}},[e._v(" Creación de usuario ")])],1),e.itemsEmpty&&!e.isLoading?a("EmptyItems",{attrs:{icon:"mdi-contacts",text:"No tiene agendas creadas. Para crear agendas cortas clic en botón Crear Nueva Agenda"}}):a("v-card",[a("v-col",[a("v-row",[a("v-spacer"),a("v-text-field",{staticClass:"flex-grow-1 mr-md-2",attrs:{"append-icon":"mdi-magnify",dense:"",clearable:"",placeholder:"Ej.: Filtrar por name, email, empresa, etc",outlined:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchUser(e.searchText)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1),a("v-data-table",{staticClass:"flex-grow-1",attrs:{loading:e.isLoading,headers:e.headers,items:e.items,search:e.searchText},scopedSlots:e._u([{key:"item.email",fn:function(t){var s=t.item;return[a("div",{staticClass:"d-none d-lg-block"},[a("userAvatar",{attrs:{user:s}})],1),a("div",{staticClass:"d-lg-none"},[e._v(" "+e._s(s.email)+" ")])]}},{key:"item.status",fn:function(t){var s=t.item;return[1===s.status?a("v-icon",{attrs:{small:"",color:"success"}},[e._v(" mdi-check-circle ")]):a("v-icon",{attrs:{small:""}},[e._v(" mdi-circle-outline ")])]}},{key:"item.created",fn:function(t){var s=t.item;return[a("div",[e._v(e._s(e._f("formatDate")(s.created,"ll")))])]}},{key:"item.credit",fn:function(t){var s=t.item;return[a("div",[e._v(e._s(e._f("formatCurrency")(s.credit,e.configFormat)))])]}},{key:"item.availableCredit",fn:function(t){var s=t.item;return[a("div",[e._v(e._s(e._f("formatCurrency")(s.availableCredit,e.configFormat)))])]}},{key:"item.actions",fn:function(t){var s=t.item;return[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.attrs,i=t.on;return[a("v-btn",e._g(e._b({},"v-btn",s,!1),i),[e._v(" Acciones ")])]}}],null,!0)},[a("v-list",[a("v-list-item",{attrs:{link:""},on:{click:function(t){return e.updateUser(s.id)}}},[e._v(" Modificar ")])],1),s.status?a("v-list",[a("v-list-item",{attrs:{link:""},on:{click:function(t){return e.confirmDisabled(s)}}},[e._v(" Deshabilitar ")])],1):a("v-list",[a("v-list-item",{attrs:{link:""},on:{click:function(t){return e.confirmEnabled(s)}}},[e._v(" Habilitar ")])],1),e.isAdmin?a("v-list",[a("v-list-item",{attrs:{link:""},on:{click:function(t){return e.confirmLoginUser(s)}}},[e._v(" Iniciar sesión ")])],1):e._e()],1)]}}],null,!0)})],1),a("v-dialog",{attrs:{width:"600px"},model:{value:e.dialogConfirmLoginUser,callback:function(t){e.dialogConfirmLoginUser=t},expression:"dialogConfirmLoginUser"}},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-login-variant")]),e._v("Iniciar sesión")],1),a("v-card-text",[a("p",{staticStyle:{"font-size":"18px"}},[e._v("Está seguro que desea iniciar sesión con este usuario?")])]),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialogConfirmLoginUser=!1}}},[e._v("Cancelar")]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.loginUser()}}},[e._v("Iniciar sesión")])],1)],1)],1),a("v-dialog",{attrs:{width:"600px"},model:{value:e.dialogConfirmDisabledUser,callback:function(t){e.dialogConfirmDisabledUser=t},expression:"dialogConfirmDisabledUser"}},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-account-cancel")]),e._v(" Deshabilitar usuario")],1),a("v-card-text",[a("p",{staticStyle:{"font-size":"18px"}},[e._v("Está seguro que desea deshabilitar a este usuario?")])]),a("v-card-actions",[a("v-btn",{attrs:{text:""}},[e._v("Cancelar")]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.disableUser()}}},[e._v("Deshabilitar")])],1)],1)],1),a("v-dialog",{attrs:{width:"600px"},model:{value:e.dialogConfirmEnabledUser,callback:function(t){e.dialogConfirmEnabledUser=t},expression:"dialogConfirmEnabledUser"}},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-account-cancel")]),e._v(" Habilitar usuario")],1),a("v-card-text",[a("p",{staticStyle:{"font-size":"18px"}},[e._v("Está seguro que desea habilitar a este usuario?")])]),a("v-card-actions",[a("v-btn",{attrs:{text:""}},[e._v("Cancelar")]),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.enableUser()}}},[e._v("Habilitar")])],1)],1)],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"display-1"},[e._v("Usuarios")])])}],r=a("88f5"),n=a("bc25"),o=a("ba57"),c={components:{userAvatar:n["a"],EmptyItems:o["a"]},data:function(){return{erros:{email:"",password:""},selectedUser:null,dialogConfirmLoginUser:!1,dialogConfirmDisabledUser:!1,dialogConfirmEnabledUser:!1,isLoading:!1,items:[],myUser:null,searchText:"",headers:[{text:"Usuario",value:"email"},{text:"Creditos inicial",value:"credit"},{text:"Creditos disponible",value:"availableCredit"},{text:"Ultima Modif.",value:"updated_at"},{text:"Estado",value:"status"},{text:"Acciones",value:"actions"}]}},computed:{itemsEmpty:function(){return 0===this.items.length},configFormat:function(){return{decimalDigits:0,decimalSeparator:".",thousandsSeparator:",",currencySymbol:"",currencySymbolNumberOfSpaces:0,currencySymbolPosition:"left"}},isValidEmail:function(){return void 0===this.erros.email?"":this.erros.email},isValidPassword:function(){return void 0===this.erros.password?"":this.erros.password},isAdmin:function(){return $cookies.get("user").isAdmin}},mounted:function(){this.getUsers()},methods:{getUsers:function(){var e=this;this.isLoading=!0,r["a"].get("/user").then((function(t){t.data.success?(e.items=t.data.data,e.isLoading=!1):e.$store.dispatch("app/showToast",t.data.message)})).catch((function(e){console.log(e)}))},updateUser:function(e){this.$router.push({path:"/config/users/register/"+e})},createUser:function(){this.$router.push({path:"/config/users/register"})},loginUser:function(){var e=this;r["a"].post("/login/"+this.selectedUser.id).then((function(t){t.data.success?($cookies.set("user",t.data.data.user),$cookies.set("token",t.data.data.access_token),$cookies.set("services",t.data.data.services),window.location.href="/"):e.$store.dispatch("app/showToast",t.data.message)})).catch((function(t){e.erros=t.response.data.errors}))},disableUser:function(){var e=this,t={status:!1};r["a"].post("/disable/"+this.selectedUser.id,t).then((function(t){t.data.success?(e.$store.dispatch("app/showToast",t.data.message),e.dialogConfirmDisabledUser=!1,e.getUsers()):e.$store.dispatch("app/showToast",t.data.message)}))},enableUser:function(){var e=this,t={status:!0};r["a"].post("/disable/"+this.selectedUser.id,t).then((function(t){t.data.success?(e.$store.dispatch("app/showToast",t.data.message),e.dialogConfirmEnabledUser=!1,e.getUsers()):e.$store.dispatch("app/showToast",t.data.message)}))},confirmLoginUser:function(e){this.dialogConfirmLoginUser=!0,this.selectedUser=e},confirmDisabled:function(e){this.dialogConfirmDisabledUser=!0,this.selectedUser=e},confirmEnabled:function(e){this.dialogConfirmEnabledUser=!0,this.selectedUser=e}}},l=c,d=(a("b799"),a("2877")),u=a("6544"),v=a.n(u),f=a("8336"),m=a("b0af"),p=a("99d9"),g=a("62ad"),h=a("8fea"),b=a("169a"),_=a("132d"),x=a("8860"),U=a("da13"),C=a("e449"),k=a("0fd9"),y=a("2fa4"),w=a("8654"),E=Object(d["a"])(l,s,i,!1,null,"4aef49c6",null);t["default"]=E.exports;v()(E,{VBtn:f["a"],VCard:m["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VCol:g["a"],VDataTable:h["a"],VDialog:b["a"],VIcon:_["a"],VList:x["a"],VListItem:U["a"],VMenu:C["a"],VRow:k["a"],VSpacer:y["a"],VTextField:w["a"]})},"5c7e":function(e,t,a){},b799:function(e,t,a){"use strict";a("5c7e")},ba57:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"9",lg:"3"}},[a("v-icon",{attrs:{size:"200",color:"#a8a8a8"}},[e._v(e._s(e.icon))]),a("p",{staticStyle:{color:"#a8a8a8"}},[e._v(" "+e._s(e.text)+" ")])],1)],1)},i=[],r={props:{show:{type:Boolean,default:!1},icon:{type:String,default:""},text:{type:String,default:""}}},n=r,o=a("2877"),c=a("6544"),l=a.n(c),d=a("62ad"),u=a("132d"),v=a("0fd9"),f=Object(o["a"])(n,s,i,!1,null,null,null);t["a"]=f.exports;l()(f,{VCol:d["a"],VIcon:u["a"],VRow:v["a"]})}}]);